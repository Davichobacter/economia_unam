<!DOCTYPE html\>

<html lang="es"\>
<head\>
<meta charset="UTF-8"\>
<meta name="viewport" content="width=device-width, initial-scale=1.0"\>
<title\>Métricas de la Matriz de Confusión\</title\>
<script src="[https://cdn.tailwindcss.com](https://www.google.com/search?q=https://cdn.tailwindcss.com)"\>
</script>
<link rel="preconnect" href="[https://fonts.googleapis.com](https://www.google.com/search?q=https://fonts.googleapis.com)"\>
<link rel="preconnect" href="[https://fonts.gstatic.com](https://www.google.com/search?q=https://fonts.gstatic.com)" crossorigin\>
<link href="[https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700\&display=swap](https://www.google.com/search?q=https://fonts.googleapis.com/css2%3Ffamily%3DInter:wght%40400%3B500%3B600%3B700%26display%3Dswap)" rel="stylesheet"\>
<style>
    body {
    font-family: 'Inter', sans-serif;
    background-color: \#f9fafb;
    }
    .metric-card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .metric-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    .matrix-cell {
    border: 1px solid \#e5e7eb;
    min-height: 100px;
    }
    .header-cell {
    font-size: 0.8rem;
    font-weight: 600;
    }
</style>
</head\>

<body class="text-gray-800"\>


<div class="container mx-auto p-4 md:p-8">
    
    <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Explorador Interactivo de la Matriz de Confusión</h1>
        <p class="mt-2 text-lg text-gray-600">Una herramienta para entender las métricas clave del machine learning.</p>
    </header>

    <main>
        <section id="introduction" class="mb-10 bg-white p-6 rounded-lg shadow-sm">
            <h2 class="text-2xl font-semibold mb-3 text-gray-800">¿Qué es una Matriz de Confusión?</h2>
            <p class="text-gray-700 leading-relaxed">
                En el campo del machine learning, una matriz de confusión es una tabla que permite visualizar el desempeño de un algoritmo de clasificación. Compara las clases predichas por el modelo con las clases reales de los datos. Esta herramienta no solo muestra los aciertos del modelo, sino también los tipos de errores que comete. Para entenderla, necesitamos cuatro valores fundamentales: Verdaderos Positivos (VP), Verdaderos Negativos (VN), Falsos Positivos (FP) y Falsos Negativos (FN). Ingrese valores en la calculadora a continuación para explorar cómo estos componentes afectan las métricas de evaluación más importantes.
            </p>
        </section>
        
        <section id="calculator" class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-semibold mb-4 text-center">1. Introduce los Valores de la Matriz</h3>
                <form id="confusion-form" class="space-y-4">
                    <div>
                        <label for="tp" class="block text-sm font-medium text-gray-700">Verdaderos Positivos (VP)</label>
                        <input type="number" id="tp" value="90" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        <p class="text-xs text-gray-500 mt-1">Casos positivos que el modelo predijo correctamente como positivos.</p>
                    </div>
                    <div>
                        <label for="fp" class="block text-sm font-medium text-gray-700">Falsos Positivos (FP)</label>
                        <input type="number" id="fp" value="10" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        <p class="text-xs text-gray-500 mt-1">Casos negativos que el modelo predijo incorrectamente como positivos (Error Tipo I).</p>
                    </div>
                    <div>
                        <label for="fn" class="block text-sm font-medium text-gray-700">Falsos Negativos (FN)</label>
                        <input type="number" id="fn" value="5" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        <p class="text-xs text-gray-500 mt-1">Casos positivos que el modelo predijo incorrectamente como negativos (Error Tipo II).</p>
                    </div>
                    <div>
                        <label for="tn" class="block text-sm font-medium text-gray-700">Verdaderos Negativos (VN)</label>
                        <input type="number" id="tn" value="95" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        <p class="text-xs text-gray-500 mt-1">Casos negativos que el modelo predijo correctamente como negativos.</p>
                    </div>
                </form>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                <h3 class="text-xl font-semibold mb-4 text-center">Visualización de la Matriz</h3>
                <div class="w-full max-w-sm">
                    <div class="grid grid-cols-3 gap-0 text-center">
                        <div></div>
                        <div class="header-cell p-2 text-gray-500 uppercase">Predicho Positivo</div>
                        <div class="header-cell p-2 text-gray-500 uppercase">Predicho Negativo</div>

                        <div class="header-cell p-2 flex items-center justify-center text-gray-500 uppercase">Real Positivo</div>
                        <div id="tp-cell" class="matrix-cell bg-green-100 text-green-800 p-4 flex flex-col justify-center">
                            <span class="font-bold text-2xl">90</span><span class="text-xs">VP</span>
                        </div>
                        <div id="fn-cell" class="matrix-cell bg-red-100 text-red-800 p-4 flex flex-col justify-center">
                            <span class="font-bold text-2xl">5</span><span class="text-xs">FN</span>
                        </div>

                        <div class="header-cell p-2 flex items-center justify-center text-gray-500 uppercase">Real Negativo</div>
                        <div id="fp-cell" class="matrix-cell bg-red-100 text-red-800 p-4 flex flex-col justify-center">
                            <span class="font-bold text-2xl">10</span><span class="text-xs">FP</span>
                        </div>
                        <div id="tn-cell" class="matrix-cell bg-green-100 text-green-800 p-4 flex flex-col justify-center">
                            <span class="font-bold text-2xl">95</span><span class="text-xs">VN</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="text-center mb-10">
            <button id="calculate-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition duration-300 shadow-lg">
                Calcular Métricas
            </button>
        </div>
        
        <section id="results" class="hidden">
            <h2 class="text-2xl font-semibold mb-6 text-center text-gray-800">2. Resultados y Significado</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">

                <div class="metric-card bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold text-indigo-700">Valor Predictivo Positivo (Precisión)</h4>
                    <p id="ppv-value" class="text-4xl font-bold my-2">0%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                        <div id="ppv-bar" class="bg-indigo-500 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <p class="text-sm font-mono text-gray-500 mb-3">VP / (VP + FP)</p>
                    <p id="ppv-explanation" class="text-sm text-gray-600">De todas las predicciones que el modelo etiquetó como "positivas", este porcentaje fue realmente positivo.</p>
                </div>

                <div class="metric-card bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold text-teal-700">Valor Predictivo Negativo</h4>
                    <p id="npv-value" class="text-4xl font-bold my-2">0%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                        <div id="npv-bar" class="bg-teal-500 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <p class="text-sm font-mono text-gray-500 mb-3">VN / (VN + FN)</p>
                    <p id="npv-explanation" class="text-sm text-gray-600">De todas las predicciones que el modelo etiquetó como "negativas", este porcentaje fue realmente negativo.</p>
                </div>

                <div class="metric-card bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold text-sky-700">Sensibilidad (Recall)</h4>
                    <p id="sensitivity-value" class="text-4xl font-bold my-2">0%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                        <div id="sensitivity-bar" class="bg-sky-500 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <p class="text-sm font-mono text-gray-500 mb-3">VP / (VP + FN)</p>
                    <p id="sensitivity-explanation" class="text-sm text-gray-600">De todos los casos que eran realmente positivos, este es el porcentaje que el modelo logró identificar correctamente.</p>
                </div>
                
                <div class="metric-card bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold text-rose-700">Especificidad</h4>
                    <p id="specificity-value" class="text-4xl font-bold my-2">0%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                        <div id="specificity-bar" class="bg-rose-500 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <p class="text-sm font-mono text-gray-500 mb-3">VN / (VN + FP)</p>
                    <p id="specificity-explanation" class="text-sm text-gray-600">De todos los casos que eran realmente negativos, este es el porcentaje que el modelo logró identificar correctamente.</p>
                </div>

            </div>
        </section>
    </main>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tpInput = document.getElementById('tp');
        const fpInput = document.getElementById('fp');
        const fnInput = document.getElementById('fn');
        const tnInput = document.getElementById('tn');
        
        const tpCell = document.getElementById('tp-cell').querySelector('span.font-bold');
        const fpCell = document.getElementById('fp-cell').querySelector('span.font-bold');
        const fnCell = document.getElementById('fn-cell').querySelector('span.font-bold');
        const tnCell = document.getElementById('tn-cell').querySelector('span.font-bold');

        const calculateBtn = document.getElementById('calculate-btn');
        const resultsSection = document.getElementById('results');
        
        const ppvValue = document.getElementById('ppv-value');
        const ppvBar = document.getElementById('ppv-bar');
        const ppvExplanation = document.getElementById('ppv-explanation');

        const npvValue = document.getElementById('npv-value');
        const npvBar = document.getElementById('npv-bar');
        const npvExplanation = document.getElementById('npv-explanation');
        
        const sensitivityValue = document.getElementById('sensitivity-value');
        const sensitivityBar = document.getElementById('sensitivity-bar');
        const sensitivityExplanation = document.getElementById('sensitivity-explanation');
        
        const specificityValue = document.getElementById('specificity-value');
        const specificityBar = document.getElementById('specificity-bar');
        const specificityExplanation = document.getElementById('specificity-explanation');

        const inputs = [tpInput, fpInput, fnInput, tnInput];
        
        function updateMatrixVisual() {
            tpCell.textContent = tpInput.value || '0';
            fpCell.textContent = fpInput.value || '0';
            fnCell.textContent = fnInput.value || '0';
            tnCell.textContent = tnInput.value || '0';
        }

        function calculateMetrics() {
            const tp = parseInt(tpInput.value) || 0;
            const fp = parseInt(fpInput.value) || 0;
            const fn = parseInt(fnInput.value) || 0;
            const tn = parseInt(tnInput.value) || 0;

            const ppv = (tp + fp) > 0 ? (tp / (tp + fp)) * 100 : 0;
            const npv = (tn + fn) > 0 ? (tn / (tn + fn)) * 100 : 0;
            const sensitivity = (tp + fn) > 0 ? (tp / (tp + fn)) * 100 : 0;
            const specificity = (tn + fp) > 0 ? (tn / (tn + fp)) * 100 : 0;

            ppvValue.textContent = `${ppv.toFixed(1)}%`;
            ppvBar.style.width = `${ppv}%`;
            ppvExplanation.textContent = `De las ${tp + fp} predicciones positivas, el ${ppv.toFixed(1)}% fueron correctas.`;
            
            npvValue.textContent = `${npv.toFixed(1)}%`;
            npvBar.style.width = `${npv}%`;
            npvExplanation.textContent = `De las ${tn + fn} predicciones negativas, el ${npv.toFixed(1)}% fueron correctas.`;
            
            sensitivityValue.textContent = `${sensitivity.toFixed(1)}%`;
            sensitivityBar.style.width = `${sensitivity}%`;
            sensitivityExplanation.textContent = `De los ${tp + fn} casos realmente positivos, el modelo identificó el ${sensitivity.toFixed(1)}%.`;

            specificityValue.textContent = `${specificity.toFixed(1)}%`;
            specificityBar.style.width = `${specificity}%`;
            specificityExplanation.textContent = `De los ${tn + fp} casos realmente negativos, el modelo identificó el ${specificity.toFixed(1)}%.`;

            resultsSection.classList.remove('hidden');
        }
        
        inputs.forEach(input => {
            input.addEventListener('input', updateMatrixVisual);
        });

        calculateBtn.addEventListener('click', calculateMetrics);

        updateMatrixVisual();
        calculateMetrics(); 
    });
</script>


</body\>
</html\>